{"version":3,"file":"theme.min.js","mappings":"mBAMA,IAAMA,EAAaC,QAAQ,qBACrBC,EAAuBD,QAAQ,gCAC/BE,EAAmBF,QAAQ,2BAC3BG,EAAkBH,QAAQ,2BAK1BI,EAAY,CAEhBC,KAAI,WACF,SAE4B,IAAfN,GAA8BA,EAAWM,MAClDN,EAAWM,YAGuB,IAAzBJ,GAAwCA,EAAqBI,MACtEJ,EAAqBI,YAGS,IAArBH,GAAoCA,EAAiBG,MAC9DH,EAAiBG,YAGY,IAApBF,GAAmCA,EAAgBE,MAC5DF,EAAgBE,OAIlBC,KAAKC,kBAEP,CAAE,MAAOC,GACPC,QAAQD,MAAM,4BAA6BA,GAE3CF,KAAKI,wBACP,CACF,EAGAH,iBAAgB,WAAG,IAAAI,EAAA,KAEjBC,SAASC,iBAAiB,WAAW,SAACC,GACtB,WAAVA,EAAEC,KACJJ,EAAKK,gBAET,IAGAC,OAAOJ,iBAAiB,SAAUP,KAAKY,UAAS,WAC9CP,EAAKQ,cACP,GAAG,KACL,EAGAH,eAAc,WAEZ,IAAMI,EAAaR,SAASS,eAAe,oBACvCD,IAAeA,EAAWE,UAAUC,SAAS,WAC/CH,EAAWE,UAAUE,IAAI,UAI3B,IAAMC,EAAab,SAASS,eAAe,oBACvCI,IAAeA,EAAWH,UAAUC,SAAS,WAC/CE,EAAWH,UAAUE,IAAI,UAITZ,SAASc,iBAAiB,qCAClCC,SAAQ,SAAAC,GAChBA,EAASN,UAAUE,IAAI,SACzB,GACF,EAGAL,aAAY,WACV,GAAIF,OAAOY,YAAc,IAAK,CAC5B,IAAMJ,EAAab,SAASS,eAAe,oBACvCI,IAAeA,EAAWH,UAAUC,SAAS,WAC/CE,EAAWH,UAAUE,IAAI,SAE7B,CACF,EAGAd,uBAAsB,WAEpB,IAAMoB,EAAgBlB,SAASmB,cAAc,6BACvCN,EAAab,SAASS,eAAe,oBAEvCS,GAAiBL,GACnBK,EAAcjB,iBAAiB,SAAS,WACtCY,EAAWH,UAAUU,OAAO,SAC9B,IAIF,IAAMC,EAAWrB,SAASc,iBAAiB,sBACrCN,EAAaR,SAASS,eAAe,oBAE3CY,EAASN,SAAQ,SAAAO,GACfA,EAAIrB,iBAAiB,SAAS,WACxBO,GACFA,EAAWE,UAAUU,OAAO,SAEhC,GACF,GACF,EAGAd,SAAQ,SAACiB,EAAMC,GACb,IAAIC,EACJ,OAAO,WAAmC,QAAAC,EAAAC,UAAAC,OAANC,EAAI,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,EAAIE,GAAAJ,UAAAI,GAKtCC,aAAaP,GACbA,EAAUQ,YALI,WACZD,aAAaP,GACbF,EAAIW,WAAC,EAAGL,EACV,GAE4BL,EAC9B,CACF,GAIFnB,OAAO8B,gBAAkB,SAASC,EAAiBC,GACjD,IAAMC,EAAYtC,SAASS,eAAe,oBACtC6B,IACFA,EAAUC,IAAMF,GAGCrC,SAASc,iBAAiB,kBAClCC,SAAQ,SAAAyB,GACjBA,EAAM9B,UAAU+B,OAAO,sBACvBD,EAAM9B,UAAUE,IAAI,qBACtB,IAEAwB,EAAgB1B,UAAU+B,OAAO,sBACjCL,EAAgB1B,UAAUE,IAAI,qBAChC,EAGAZ,SAASC,iBAAiB,oBAAoB,WAC5CT,EAAUC,MACZ,IAGAY,OAAOb,UAAYA,EAGnBkD,OAAOC,QAAUnD,C","sources":["webpack://etsy-clone/./js/theme.js"],"sourcesContent":["/**\r\n * Main theme JavaScript - Etsy-style Shopify theme\r\n * Modular architecture with build system integration\r\n */\r\n\r\n// Import modules using CommonJS for webpack compatibility\r\nconst CartModule = require('./modules/cart.js');\r\nconst ProductGalleryModule = require('./modules/product-gallery.js');\r\nconst NavigationModule = require('./modules/navigation.js');\r\nconst AnimationModule = require('./modules/animations.js');\r\n\r\n/**\r\n * EtsyTheme - Main theme controller\r\n */\r\nconst EtsyTheme = {\r\n  // Initialize theme\r\n  init() {\r\n    try {\r\n      // Initialize all modules\r\n      if (typeof CartModule !== 'undefined' && CartModule.init) {\r\n        CartModule.init();\r\n      }\r\n      \r\n      if (typeof ProductGalleryModule !== 'undefined' && ProductGalleryModule.init) {\r\n        ProductGalleryModule.init();\r\n      }\r\n      \r\n      if (typeof NavigationModule !== 'undefined' && NavigationModule.init) {\r\n        NavigationModule.init();\r\n      }\r\n      \r\n      if (typeof AnimationModule !== 'undefined' && AnimationModule.init) {\r\n        AnimationModule.init();\r\n      }\r\n      \r\n      // Initialize core functionality\r\n      this.initGlobalEvents();\r\n      \r\n    } catch (error) {\r\n      console.error('Error initializing theme:', error);\r\n      // Fallback to basic functionality\r\n      this.initBasicFunctionality();\r\n    }\r\n  },\r\n  \r\n  // Global event handlers\r\n  initGlobalEvents() {\r\n    // ESC key to close modals\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape') {\r\n        this.closeAllModals();\r\n      }\r\n    });\r\n    \r\n    // Window resize handler\r\n    window.addEventListener('resize', this.debounce(() => {\r\n      this.handleResize();\r\n    }, 250));\r\n  },\r\n  \r\n  // Close all open modals/drawers\r\n  closeAllModals() {\r\n    // Close cart drawer\r\n    const cartDrawer = document.getElementById('etsy-cart-drawer');\r\n    if (cartDrawer && !cartDrawer.classList.contains('hidden')) {\r\n      cartDrawer.classList.add('hidden');\r\n    }\r\n    \r\n    // Close mobile menu  \r\n    const mobileMenu = document.getElementById('etsy-mobile-menu');\r\n    if (mobileMenu && !mobileMenu.classList.contains('hidden')) {\r\n      mobileMenu.classList.add('hidden');\r\n    }\r\n    \r\n    // Close dropdowns\r\n    const dropdowns = document.querySelectorAll('[data-dropdown-menu]:not(.hidden)');\r\n    dropdowns.forEach(dropdown => {\r\n      dropdown.classList.add('hidden');\r\n    });\r\n  },\r\n  \r\n  // Handle window resize\r\n  handleResize() {\r\n    if (window.innerWidth >= 768) {\r\n      const mobileMenu = document.getElementById('etsy-mobile-menu');\r\n      if (mobileMenu && !mobileMenu.classList.contains('hidden')) {\r\n        mobileMenu.classList.add('hidden');\r\n      }\r\n    }\r\n  },\r\n  \r\n  // Basic functionality fallback\r\n  initBasicFunctionality() {\r\n    // Mobile menu toggle\r\n    const mobileMenuBtn = document.querySelector('[data-mobile-menu-button]');\r\n    const mobileMenu = document.getElementById('etsy-mobile-menu');\r\n    \r\n    if (mobileMenuBtn && mobileMenu) {\r\n      mobileMenuBtn.addEventListener('click', () => {\r\n        mobileMenu.classList.toggle('hidden');\r\n      });\r\n    }\r\n    \r\n    // Cart drawer toggle\r\n    const cartBtns = document.querySelectorAll('[data-cart-toggle]');\r\n    const cartDrawer = document.getElementById('etsy-cart-drawer');\r\n    \r\n    cartBtns.forEach(btn => {\r\n      btn.addEventListener('click', () => {\r\n        if (cartDrawer) {\r\n          cartDrawer.classList.toggle('hidden');\r\n        }\r\n      });\r\n    });\r\n  },\r\n  \r\n  // Utility function\r\n  debounce(func, wait) {\r\n    let timeout;\r\n    return function executedFunction(...args) {\r\n      const later = () => {\r\n        clearTimeout(timeout);\r\n        func(...args);\r\n      };\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(later, wait);\r\n    };\r\n  }\r\n};\r\n\r\n// Global function for product gallery (backward compatibility)\r\nwindow.changeMainImage = function(thumbnailButton, imageUrl) {\r\n  const mainImage = document.getElementById('mainProductImage');\r\n  if (mainImage) {\r\n    mainImage.src = imageUrl;\r\n  }\r\n  \r\n  const thumbnails = document.querySelectorAll('.thumbnail-btn');\r\n  thumbnails.forEach(thumb => {\r\n    thumb.classList.remove('border-etsy-orange');\r\n    thumb.classList.add('border-transparent');\r\n  });\r\n  \r\n  thumbnailButton.classList.remove('border-transparent');\r\n  thumbnailButton.classList.add('border-etsy-orange');\r\n};\r\n\r\n// Initialize when DOM is ready\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  EtsyTheme.init();\r\n});\r\n\r\n// Export for use in other scripts\r\nwindow.EtsyTheme = EtsyTheme;\r\n\r\n// Export for webpack\r\nmodule.exports = EtsyTheme;\r\n"],"names":["CartModule","require","ProductGalleryModule","NavigationModule","AnimationModule","EtsyTheme","init","this","initGlobalEvents","error","console","initBasicFunctionality","_this","document","addEventListener","e","key","closeAllModals","window","debounce","handleResize","cartDrawer","getElementById","classList","contains","add","mobileMenu","querySelectorAll","forEach","dropdown","innerWidth","mobileMenuBtn","querySelector","toggle","cartBtns","btn","func","wait","timeout","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","apply","changeMainImage","thumbnailButton","imageUrl","mainImage","src","thumb","remove","module","exports"],"sourceRoot":""}