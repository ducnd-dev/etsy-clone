/*! For license information please see theme.min.js.LICENSE.txt */
(()=>{"use strict";function t(){var n,o,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(t,r,a,i){var s=r&&r.prototype instanceof d?r:d,l=Object.create(s.prototype);return e(l,"_invoke",function(t,e,r){var a,i,s,d=0,l=r||[],u=!1,f={p:0,n:0,v:n,a:m,f:m.bind(n,4),d:function(t,e){return a=t,i=0,s=n,f.n=e,c}};function m(t,e){for(i=t,s=e,o=0;!u&&d&&!r&&o<l.length;o++){var r,a=l[o],m=f.p,v=a[2];t>3?(r=v===e)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=m&&((r=t<2&&m<a[1])?(i=0,f.v=e,f.n=a[1]):m<v&&(r=t<3||a[0]>e||e>v)&&(a[4]=t,a[5]=e,f.n=v,i=0))}if(r||t>1)return c;throw u=!0,e}return function(r,l,v){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&m(l,v),i=l,s=v;(o=i<2?n:s)||!u;){a||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(d=2,a){if(i||(r="next"),o=a[r]){if(!(o=o.call(a,s)))throw TypeError("iterator result is not an object");if(!o.done)return o;s=o.value,i<2&&(i=0)}else 1===i&&(o=a.return)&&o.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((o=(u=f.n<0)?s:t.call(e,f))!==c)break}catch(t){a=n,i=1,s=t}finally{d=1}}return{value:o,done:u}}}(t,a,i),!0),l}var c={};function d(){}function l(){}function u(){}o=Object.getPrototypeOf;var f=[][a]?o(o([][a]())):(e(o={},a,(function(){return this})),o),m=u.prototype=d.prototype=Object.create(f);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,e(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t}return l.prototype=u,e(m,"constructor",u),e(u,"constructor",l),l.displayName="GeneratorFunction",e(u,i,"GeneratorFunction"),e(m),e(m,i,"Generator"),e(m,a,(function(){return this})),e(m,"toString",(function(){return"[object Generator]"})),(t=function(){return{w:s,m:v}})()}function e(t,n,o,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}e=function(t,n,o,r){if(n)a?a(t,n,{value:o,enumerable:!r,configurable:!r,writable:!r}):t[n]=o;else{var i=function(n,o){e(t,n,(function(t){return this._invoke(n,o,t)}))};i("next",0),i("throw",1),i("return",2)}},e(t,n,o,r)}function n(t,e,n,o,r,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,r)}function o(t){return function(){var e=this,o=arguments;return new Promise((function(r,a){var i=t.apply(e,o);function s(t){n(i,r,a,s,c,"next",t)}function c(t){n(i,r,a,s,c,"throw",t)}s(void 0)}))}}var r={init:function(){this.bindEvents()},bindEvents:function(){var t=this;document.querySelectorAll("[data-cart-toggle]").forEach((function(e){console.log("Cart button initialized"),e.addEventListener("click",t.toggleCartDrawer.bind(t))})),document.querySelectorAll(".add-to-cart-form").forEach((function(e){e.addEventListener("submit",t.handleAddToCart.bind(t))}))},toggleCartDrawer:function(t){t&&t.preventDefault();var e=document.getElementById("etsy-cart-drawer");if(e){var n=e.querySelector(".max-w-md"),o=e.querySelector("#cart-backdrop");e.classList.contains("hidden")?(e.classList.remove("hidden"),document.body.classList.add("overflow-hidden"),setTimeout((function(){o.classList.add("opacity-100"),o.classList.remove("opacity-0")}),10),setTimeout((function(){n.classList.remove("translate-x-full")}),100)):(n.classList.add("translate-x-full"),setTimeout((function(){o.classList.remove("opacity-100"),o.classList.add("opacity-0")}),200),setTimeout((function(){e.classList.add("hidden"),document.body.classList.remove("overflow-hidden")}),500))}},handleAddToCart:function(e){var n=this;return o(t().m((function o(){var r,a,i,s,c,d;return t().w((function(t){for(;;)switch(t.n){case 0:return e.preventDefault(),r=e.target,a=new FormData(r),i=r.querySelector('button[type="submit"]'),s=i.textContent,i.disabled=!0,i.textContent="Adding...",t.p=1,t.n=2,fetch("/cart/add.js",{method:"POST",body:a});case 2:if(!(c=t.v).ok){t.n=4;break}return t.n=3,c.json();case 3:t.v,i.textContent="Added!",i.classList.add("bg-green-600"),n.updateCartCount(),setTimeout((function(){n.toggleCartDrawer()}),300),setTimeout((function(){i.disabled=!1,i.textContent=s,i.classList.remove("bg-green-600")}),2e3),t.n=5;break;case 4:throw new Error("Failed to add to cart");case 5:t.n=7;break;case 6:t.p=6,d=t.v,console.error("Add to cart error:",d),i.textContent="Error - try again",i.classList.add("bg-red-600"),setTimeout((function(){i.disabled=!1,i.textContent=s,i.classList.remove("bg-red-600")}),2e3);case 7:return t.a(2)}}),o,null,[[1,6]])})))()},updateCartCount:function(){return o(t().m((function e(){var n,o,r;return t().w((function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,fetch("/cart.js");case 1:return n=t.v,t.n=2,n.json();case 2:o=t.v,document.querySelectorAll("[data-cart-count]").forEach((function(t){t.textContent=o.item_count,t.style.display=o.item_count>0?"block":"none"})),t.n=4;break;case 3:t.p=3,r=t.v,console.error("Failed to update cart count:",r);case 4:return t.a(2)}}),e,null,[[0,3]])})))()}};const a=r;var i={init:function(){this.bindEvents()},bindEvents:function(){var t=this;document.querySelectorAll("[data-product-gallery]").forEach((function(e){t.initGallery(e)}))},initGallery:function(t){var e=this,n=t.querySelector("[data-main-image]"),o=t.querySelectorAll("[data-thumbnail]");n&&o.length&&o.forEach((function(t,r){t.addEventListener("click",(function(){e.changeMainImage(n,t,o)}))}))},changeMainImage:function(t,e,n){var o=e.getAttribute("data-src")||e.querySelector("img").src,r=e.getAttribute("alt")||e.querySelector("img").alt||"";n.forEach((function(t){t.classList.remove("border-etsy-orange","ring-3","ring-etsy-orange"),t.classList.add("border-transparent")})),e.classList.remove("border-transparent"),e.classList.add("border-etsy-orange"),t.style.transition="opacity 0.3s ease",t.style.opacity="0.5",setTimeout((function(){t.src=o,t.alt=r,t.onload=function(){t.style.opacity="1"}}),150)}};window.changeMainImage=function(t,e){var n=document.getElementById("mainProductImage");n&&(n.src=e),document.querySelectorAll(".thumbnail-btn").forEach((function(t){t.classList.remove("border-etsy-orange"),t.classList.add("border-transparent")})),t.classList.remove("border-transparent"),t.classList.add("border-etsy-orange")};const s=i,c={init:function(){this.bindEvents(),this.initStickyHeader()},bindEvents:function(){var t=document.querySelector("[data-mobile-menu-button]");t&&t.addEventListener("click",this.toggleMobileMenu.bind(this)),this.initDropdowns()},toggleMobileMenu:function(t){t&&t.preventDefault();var e=document.getElementById("etsy-mobile-menu");if(e){var n=e.querySelector(".max-w-sm"),o=e.querySelector("#mobile-menu-backdrop");e.classList.contains("hidden")?(e.classList.remove("hidden"),document.body.classList.add("overflow-hidden"),setTimeout((function(){o.classList.add("opacity-100"),o.classList.remove("opacity-0")}),10),setTimeout((function(){n.classList.remove("-translate-x-full")}),100)):(n.classList.add("-translate-x-full"),setTimeout((function(){o.classList.remove("opacity-100"),o.classList.add("opacity-0")}),200),setTimeout((function(){e.classList.add("hidden"),document.body.classList.remove("overflow-hidden")}),500))}},initStickyHeader:function(){var t=document.querySelector("[data-header]"),e=document.querySelector("[data-announcement-bar]");if(t){var n=window.scrollY,o=!0;window.addEventListener("scroll",(function(){var r=window.scrollY;r>(e?e.offsetHeight:0)?(t.classList.add("bg-white","shadow-sm"),t.classList.remove("bg-transparent")):(t.classList.remove("bg-white","shadow-sm"),t.classList.add("bg-transparent")),r>n&&r>100&&o?(t.style.transform="translateY(-100%)",o=!1):r<n&&!o&&(t.style.transform="translateY(0)",o=!0),n=r}),{passive:!0})}},initDropdowns:function(){var t=document.querySelectorAll("[data-dropdown]");t.forEach((function(e){var n=e.querySelector("[data-dropdown-trigger]"),o=e.querySelector("[data-dropdown-menu]");n&&o&&(n.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation(),t.forEach((function(t){if(t!==e){var n=t.querySelector("[data-dropdown-menu]");n&&(n.classList.add("hidden"),n.classList.remove("block"))}})),o.classList.contains("hidden")?(o.classList.remove("hidden"),o.classList.add("block")):(o.classList.add("hidden"),o.classList.remove("block"))})),document.addEventListener("click",(function(t){e.contains(t.target)||(o.classList.add("hidden"),o.classList.remove("block"))})))}))}},d={init:function(){this.initScrollAnimations(),this.initHoverEffects()},initScrollAnimations:function(){var t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(e.target.classList.add("animate-fadeInUp"),t.unobserve(e.target))}))}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll("[data-animate], [data-animate-item]").forEach((function(e){e.classList.add("opacity-0","translate-y-8"),t.observe(e)}))},initHoverEffects:function(){document.querySelectorAll("[data-hover-lift]").forEach((function(t){t.addEventListener("mouseenter",(function(){t.style.transform="translateY(-2px)",t.style.transition="transform 0.2s ease"})),t.addEventListener("mouseleave",(function(){t.style.transform="translateY(0)"}))}))},showToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=document.getElementById("toast-container")||this.createToastContainer(),r=document.createElement("div");r.className="toast ".concat(e," transform translate-x-full transition-transform duration-300 ease-in-out bg-white border-l-4 p-4 shadow-lg rounded-lg mb-2 max-w-sm");var a={success:"border-green-500",error:"border-red-500",warning:"border-yellow-500",info:"border-blue-500"};r.classList.add(a[e]||a.info),r.innerHTML='\n      <div class="flex">\n        <div class="grow">\n          <p class="text-gray-800">'.concat(t,'</p>\n        </div>\n        <button class="ml-4 text-gray-400 hover:text-gray-600" onclick="this.parentElement.parentElement.remove()">\n          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">\n            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>\n          </svg>\n        </button>\n      </div>\n    '),o.appendChild(r),setTimeout((function(){r.classList.remove("translate-x-full")}),100),setTimeout((function(){r.classList.add("translate-x-full"),setTimeout((function(){r.parentElement&&r.remove()}),300)}),n)},createToastContainer:function(){var t=document.createElement("div");return t.id="toast-container",t.className="fixed top-4 right-4 z-50",document.body.appendChild(t),t}};var l={init:function(){try{void 0!==a&&a.init&&a.init(),void 0!==s&&s.init&&s.init(),void 0!==c&&c.init&&c.init(),void 0!==d&&d.init&&d.init(),this.initGlobalEvents()}catch(t){console.error("Error initializing theme:",t),this.initBasicFunctionality()}},initGlobalEvents:function(){var t=this;document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.closeAllModals()})),window.addEventListener("resize",this.debounce((function(){t.handleResize()}),250))},closeAllModals:function(){var t=document.getElementById("etsy-cart-drawer");t&&!t.classList.contains("hidden")&&t.classList.add("hidden");var e=document.getElementById("etsy-mobile-menu");e&&!e.classList.contains("hidden")&&e.classList.add("hidden"),document.querySelectorAll("[data-dropdown-menu]:not(.hidden)").forEach((function(t){t.classList.add("hidden")}))},handleResize:function(){if(window.innerWidth>=768){var t=document.getElementById("etsy-mobile-menu");t&&!t.classList.contains("hidden")&&t.classList.add("hidden")}},initBasicFunctionality:function(){var t=document.querySelector("[data-mobile-menu-button]"),e=document.getElementById("etsy-mobile-menu");t&&e&&t.addEventListener("click",(function(){e.classList.toggle("hidden")}));var n=document.querySelectorAll("[data-cart-toggle]"),o=document.getElementById("etsy-cart-drawer");n.forEach((function(t){t.addEventListener("click",(function(){console.log("Cart button clicked"),o&&o.classList.toggle("hidden")}))}))},debounce:function(t,e){var n;return function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){clearTimeout(n),t.apply(void 0,r)}),e)}}};window.changeMainImage=function(t,e){var n=document.getElementById("mainProductImage");n&&(n.src=e),document.querySelectorAll(".thumbnail-btn").forEach((function(t){t.classList.remove("border-etsy-orange"),t.classList.add("border-transparent")})),t.classList.remove("border-transparent"),t.classList.add("border-etsy-orange")},document.addEventListener("DOMContentLoaded",(function(){l.init()})),window.EtsyTheme=l})();
//# sourceMappingURL=theme.min.js.map