{% comment %}
  Featured categories grid similar to Etsy's category display
{% endcomment %}

<section class="py-16 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-etsy-dark">{{ section.settings.title }}</h2>
      {% if section.settings.subtitle != blank %}
        <p class="mt-4 text-lg text-gray-500 max-w-3xl mx-auto">{{ section.settings.subtitle }}</p>
      {% endif %}
    </div>
    
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6">
      {% for block in section.blocks %}
        {% if block.type == 'category' %}
          <a href="{{ block.settings.link }}" class="group">
            <div class="aspect-w-1 aspect-h-1 overflow-hidden rounded-full mb-4 shadow-md border-2 border-white transform transition-all duration-300 group-hover:shadow-lg group-hover:border-etsy-orange">
              {% if block.settings.image != blank %}
                <img src="{{ block.settings.image | image_url: width: 300 }}" 
                    alt="{{ block.settings.title }}" 
                    width="300" height="300"
                    class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
              {% else %}
                <div class="w-full h-full bg-gray-200 flex items-center justify-center">
                  <span class="text-gray-400">No image</span>
                </div>
              {% endif %}
            </div>
            <h3 class="text-sm text-center font-medium text-etsy-dark group-hover:text-etsy-orange transition-colors duration-300">
              {{ block.settings.title }}
            </h3>
          </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Featured Categories",  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Shop by Category"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Section Subtitle",
      "default": "Discover our curated collection of unique handmade treasures organized by category"
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Category Title",
          "default": "Category"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Category URL"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Category Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Etsy Featured Categories",
      "category": "Categories",
      "blocks": [
        {
          "type": "category",
          "settings": {
            "title": "Home Decor"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Jewelry"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Clothing"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Art"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Gifts"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Craft Supplies"
          }
        }
      ]
    }
  ]
}
{% endschema %}
